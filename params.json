{"name":"Moodle-format grid","tagline":"Grid course format contributed by Gareth J Barnard originally created by Paul Krix","body":"Grid Course Format\r\n============================\r\nA topics based format that uses a grid of user selectable images to pop up a light box of the section.\r\n\r\nRequired version of Moodle\r\n==========================\r\nThis version works with Moodle version 2014111000.00 release 2.8 (Build: 20141110) and above within the 2.8 branch until the\r\nnext release.\r\n\r\nPlease ensure that your hardware and software complies with 'Requirements' in 'Installing Moodle' on\r\n'docs.moodle.org/27/en/Installing_Moodle' / 'docs.moodle.org/dev/Moodle_2.8_release_notes'.\r\n\r\nFree Software\r\n=============\r\nThe Grid format is 'free' software under the terms of the GNU GPLv3 License, please see 'COPYING.txt'.\r\n\r\nIt can be obtained for free from:\r\nhttps://moodle.org/plugins/view.php?plugin=format_grid\r\nand\r\nhttps://github.com/gjb2048/moodle-courseformat_grid/releases\r\n\r\nYou have all the rights granted to you by the GPLv3 license.  If you are unsure about anything, then the\r\nFAQ - http://www.gnu.org/licenses/gpl-faq.html - is a good place to look.\r\n\r\nIf you reuse any of the code then I kindly ask that you make reference to the format.\r\n\r\nIf you make improvements or bug fixes then I would appreciate if you would send them back to me by forking from\r\nhttps://github.com/gjb2048/moodle-courseformat_grid and doing a 'Pull Request' so that the rest of the\r\nMoodle community benefits.\r\n\r\nSupporting Grid development\r\n===========================\r\nIf you find Grid useful and beneficial, please consider donating by:\r\n\r\nPayPal - Please contact me via my 'Moodle profile' (above) for details as I am an individual and therefore am unable to have 'donation' / 'buy me now' buttons under their terms.\r\n\r\nFlattr - https://flattr.com/profile/gjb2048\r\n\r\nI develop and maintain for free and any donations to assist me in this endeavour are appreciated.\r\n\r\nInstallation\r\n============\r\n1. Ensure you have the version of Moodle as stated above in 'Required version of Moodle'.  This is essential as the\r\n   format relies on underlying core code that is out of my control.\r\n2. Put Moodle in 'Maintenance Mode' (docs.moodle.org/en/admin/setting/maintenancemode) so that there are no\r\n   users using it bar you as the administrator - if you have not already done so.\r\n3. Copy 'grid' to '/course/format/' if you have not already done so.\r\n4. Go back in as an administrator and follow standard the 'plugin' update notification.  If needed, go to\r\n   'Site administration' -> 'Notifications' if this does not happen.\r\n5. Put Moodle out of Maintenance Mode.\r\n6. You may need to check that the permissions within the 'grid' folder are 755 for folders and 644 for files.\r\n\r\nUninstallation\r\n==============\r\n1. Put Moodle in 'Maintenance Mode' so that there are no users using it bar you as the administrator.\r\n2. It is recommended but not essential to change all of the courses that use the format to another.  If this is\r\n   not done Moodle will pick the last format in your list of formats to use but display in 'Edit settings' of the\r\n   course the first format in the list.  You can then set the desired format.\r\n3. In '/course/format/' remove the folder 'grid'.\r\n4. In the database, remove the row with the 'plugin' of 'format_grid' and 'name' of 'version' in the 'config_plugins' table\r\n   and drop the 'format_grid_icon' and 'format_grid_summary' tables.\r\n5. Put Moodle out of Maintenance Mode.\r\n\r\nUpgrade Instructions\r\n====================\r\n1. Ensure you have the version of Moodle as stated above in 'Required version of Moodle'.  This is essential as the\r\n   format relies on underlying core code that is out of my control.\r\n2. Put Moodle in 'Maintenance Mode' so that there are no users using it bar you as the administrator.\r\n3. In '/course/format/' move old 'grid' directory to a backup folder outside of Moodle.\r\n4. Copy new 'grid' to '/course/format/'.\r\n5. Go back in as an administrator and follow standard the 'plugin' update notification.  If needed, go to\r\n   'Site administration' -> 'Notifications' if this does not happen.\r\n6. If you have upgraded from Moodle 1.9 and were using the Grid format there, please follow 'Upgrading from M1.9' below\r\n   and then return back here.\r\n7. If automatic 'Purge all caches' appears not to work by lack of display etc. then perform a manual 'Purge all caches'\r\n   under 'Home -> Site administration -> Development -> Purge all caches'.\r\n8. Put Moodle out of Maintenance Mode.\r\n\r\nUpgrading from M1.9\r\n===================\r\nWhen upgrading from Moodle 1.9 the grid icon images are moved to a 'legacy' files area.  So they will not show up when you\r\nview the course as the format can no longer find them.  Therefore AFTER upgrading to Moodle 2.2+ please run the script\r\n'convert_legacy_image.php' as follows:\r\n\r\n1. Ensure you have updated fully to Moodle 2.2+.\r\n2. Ensure you have updated properly to the Moodle 2.2+ version of the Grid format by clicking on 'Notifications' if you had\r\n   not replaced the folder before performing the Moodle 2.2+ upgrade.\r\n3. Change the URL to have from the root of your Moodle installation: /course/format/grid/upgrade/convert_legacy_image.php -\r\n   i.e: http://www.mysite.com/moodle/course/format/grid/upgrade/convert_legacy_image.php\r\n   If you wish to crop instead of scaling the images then append '?crop=1' to the end of the URL like so:\r\n   http://www.mysite.com/moodle/course/format/grid/upgrade/convert_legacy_image.php?crop=1\r\n   If you wish to get the full log output then append '?logverbose=1' to the end of the URL like so:\r\n   http://www.mysite.com/moodle/course/format/grid/upgrade/convert_legacy_image.php?logverbose=1\r\n   or with crop:\r\n   http://www.mysite.com/moodle/course/format/grid/upgrade/convert_legacy_image.php?logverbose=1&crop=1\r\n   But keep in mind that with lots of records in the 'files' table this can cause the script to fail.\r\n4. Observe the output of the script which is also replicated in the PHP log file.\r\n5. Go back to the grid format course and confirm that the images are there.  It is possible that some old legacy files remain from\r\n   old images that were replaced.  At the present moment in time I have no way of detecting them (to be certain that they are\r\n   from the Grid format) in code.\r\n6. I'm not sure of the security vulnerabilities of the script on the server so after you have used it and are confident of the\r\n   results then move it from the '/course/format/grid/upgrade/' folder to a safe non-served folder.\r\n\r\nDowngrading\r\n===========\r\nIf for any reason you need to downgrade to a previous version of the format then the procedure will inform you how to\r\ndo so:\r\n\r\n1.  Put Moodle in 'Maintenance Mode' so that there are no users using it bar you as the administrator.\r\n2.  In '/course/format/' remove the folder 'grid' i.e. ALL it's contents - this is VITAL.\r\n3.  Put in the replacement 'grid' folder into '/course/format/'.\r\n4.  This step depends on if you are downgrading to a version prior to 15th July 2012, this should therefore only be for\r\n    Moodle 2.3.x and below versions.  If you are, perform step 4.1 otherwise, perform step 4.2.\r\n4.1 In the database, remove the row with the 'plugin' of 'format_grid' and 'name' of 'version' in the 'config_plugins' table\r\n    and drop the 'format_grid_icon' and 'format_grid_summary' tables.  If automatic 'Purge all caches' appears not to work by\r\n    lack of display etc. then perform a manual 'Purge all caches' under 'Home -> Site administration -> Development ->\r\n    Purge all caches'.\r\n4.2 In the database, change the row with the 'plugin' of 'format_grid' and 'name' of 'version' in the 'config_plugins' table\r\n    to have the same 'value' as '$plugin->version' in the 'grid/version.php' file i.e. like '2013083000'.  Then perform a manual\r\n    'Purge all caches' under 'Home -> Site administration -> Development -> Purge all caches'.\r\n5.  Go back in as an administrator and follow standard the 'plugin' update notification.  If needed, go to\r\n    'Site administration' -> 'Notifications' if this does not happen.\r\n6.  Put Moodle out of Maintenance Mode.\r\n\r\nReporting Issues\r\n================\r\nBefore reporting an issue, please ensure that you are running the latest version for your release of Moodle.  Major version numbers\r\nare always the same, so for Moodle 2.5.x there will be a Grid format 2.5.x.  The primary release area is located on\r\nhttps://moodle.org/plugins/view.php?plugin=format_grid.  It is also essential that you are operating the required version of Moodle\r\nas stated at the top - this is because the format relies on core functionality that is out of its control.\r\n\r\nAll 'Grid format' does is integrate with the course page and control it's layout, therefore what may appear to be an issue\r\nwith the format is in fact to do with a theme or core component.  Please be confident that it is an issue with 'Grid format'\r\nbut if in doubt, ask.\r\n\r\nI operate a policy that I will fix all genuine issues for free (this only applies to the code as supplied from the sources listed\r\nin 'Free Software' above.  Any changes / improvements you make are not covered and invalidate this policy for all of the code).\r\nImprovements are at our discretion.  I am happy to make bespoke customisations / improvements for a negotiated fee.  I will\r\nendeavour to respond to all requests for support as quickly as possible, if you require a faster service then offering payment for\r\nthe service will expedite the response.\r\n\r\nIt takes time and effort to maintain the format, therefore donations are appreciated.\r\n\r\nWhen reporting an issue you can post in the course format's forum on Moodle.org (currently 'moodle.org/mod/forum/view.php?id=47'), \r\non Moodle tracker 'tracker.moodle.org' ensuring that you chose the 'Non-core contributed modules' and 'Course Format: Grid'\r\nfor the component or contact us direct (details at the bottom).\r\n\r\nIt is essential that you provide as much information as possible, the critical information being the contents of the format's \r\nversion.php file.  Other version information such as specific Moodle version, theme name and version also helps.  A screen shot\r\ncan be really useful in visualising the issue along with any files you consider to be relevant.\r\n\r\nUsage\r\n=====\r\n\r\nViewing\r\n-------\r\nClick on a grid icon or use 'esc' to open the current selected icon which will then display the shade box containing the section\r\ncontent.  Click on the 'X' or use 'esc' to close.\r\n\r\nUse the 'left' / 'right' cursor keys to select the previous / next section when the shade box is and is not displayed.\r\n\r\nUse the 'left' / 'right' arrows that appear when hovering over the middle of the border when the shade box is shown to navigate to\r\nthe previous / next section.\r\n\r\nWhen the 'Course layout' course setting are set to 'Show all sections on one page' the shade box will operate.  When set to\r\n'Show one section per page' the shade box will not show but instead the icons will act like links as they do with the\r\n'Topics' format and take you to a single section page.\r\n\r\nEditing\r\n-------\r\nUse the 'Change image' link underneath each icon to change the icon's image.\r\n\r\nEdit the sections underneath the icons in the normal way.  Note: Some things like current section colour will not update until page\r\nrefresh.\r\n\r\nThe shade box is not shown in this mode.\r\n\r\nMaking Changes\r\n==============\r\n\r\nChanging the keyboard control code\r\n----------------------------------\r\nTo change the 'gridkeys.js' code then you'll firstly need to read: http://docs.moodle.org/dev/YUI/Shifter\r\nit is used to build the source in '/yui/src/gridkeys/js/gridkeys.js' and bring in the 'gallery-event-nav-keys' to build\r\nthe YUI module into 'yui/build/moodle-format_grid-gridkeys' and place a back port minified version in '/yui/gridkeys' for\r\nuse in Moodle 2.3 and 2.4 versions - so even if you have those versions you will need this Moodle 2.5 version to\r\nmake changes.  The compiled YUI module is then loaded in all versions (2.3, 2.4 and 2.5) in 'renderer.php' by the line:\r\n$PAGE->requires->yui_module('moodle-format_grid-gridkeys', 'M.format_grid.gridkeys.init', null, null, true);\r\nSo even though the location is different for M2.3 / M2.4 than M2.5 it's the same - that's a M2.5+ thing.  There is no\r\nrocket science to using / learning Shifter, I did so late on a Saturday night whilst half asleep - admittedly with Andrew's\r\non-line assistance.\r\n\r\nCurrent selected colour\r\n-----------------------\r\nEdit 'styles.css', change the value in the '.course-content ul.gridicons li.currentselected' selector and perform a 'Purge all caches'\r\nor override in your theme.\r\n\r\nCurrent section\r\n---------------\r\nEdit 'styles.css', change the value in the '.course-content ul.gridicons li.current' selector and perform a 'Purge all caches' or\r\noverride in your theme.\r\n\r\nFile information\r\n================\r\n\r\nLanguages\r\n---------\r\nThe grid/lang folder contains the language files for the format.\r\n\r\nNote that existing formats store their language strings in the main\r\nmoodle.php, which you can also do, but this separate file is recommended\r\nfor contributed formats.\r\n\r\nOf course you can have other folders as well as English etc. if you want to\r\nprovide multiple languages.\r\n\r\nStyles\r\n------\r\nThe file grid/styles.css contains the CSS styles for the format which can\r\nbe overridden by the theme.\r\n\r\nBackup\r\n------\r\nThe files:\r\n\r\ngrid/backup/moodle2/backup_format_grid_plugin.class.php\r\ngrid/backup/moodle2/restore_format_grid_plugin.class.php\r\n\r\nare responsible for backup and restore.\r\n\r\nBackup and restore run automatically when backing up the course.\r\nYou can't back up the course format data independently.\r\n\r\nRoadmap\r\n=============\r\n1. Improved instructions including Moodle docs.\r\n2. User definable grid row icon numbers - https://moodle.org/mod/forum/discuss.php?d=196716\r\n3. CONTRIB-3240 - Gridview course format more accessible.\r\n4. Use of crowd funding facility to support development.\r\n5. Continued maintenance of issues: https://tracker.moodle.org/browse/CONTRIB/component/11231.\r\n6. Ongoing structured walk through and refactoring.\r\n\r\nKnown Issues\r\n=============\r\n1. All listed on https://tracker.moodle.org/browse/CONTRIB/component/11231.\r\n\r\nHistory\r\n=============\r\n16th November 2014 Version 2.8.1 - Stable version for Moodle 2.8.\r\n  1.  Always show shadebox arrows on Tablets and Mobiles with the latter being half size.\r\n\r\n10th November 2014 Version 2.8.0.1 - Release Candidate\r\n  1.  Release candidate for Moodle 2.8 - NOT for production servers.\r\n\r\n5th November 2014 Version 2.7.1.4\r\n  1.  Fixed CONTRIB-5256.  Thanks to Marius Jugariu for reporting the problem.\r\n  2.  Made the arrows easier to find by placing them always 75px from the top.\r\n  3.  Added German 'New activity' image.  Thanks to Guido Hornig.\r\n  4.  Fixed section 0 editing drop down in Bootstrap v3 themes: https://github.com/gjb2048/moodle-format_grid/issues/9.\r\n\r\n18th August 2014 Version 2.7.1.3\r\n  1.  Fixed issue whereby the grid shade box is underneath certain theme components:\r\n      https://moodle.org/mod/forum/discuss.php?d=266192#p1152232.\r\n\r\n9th August 2014 Version 2.7.1.2\r\n  1.  Fixed CONTRIB-5191.  This is a workaround that depends on MDL-43525 being implemented before it is reversed.\r\n\r\n12th June 2014 - Version 2.7.1.1\r\n  1.  Slight change to CSS for Bootstrap V3.\r\n  2.  Fixed CONTRIB-5106 - thanks to Hanna Edelman for this.\r\n\r\n20th May 2014 Version 2.7.1 - Stable.\r\n  1.  Stable release for M2.7.\r\n\r\n27th April 2014 Version 2.7.0.1 - BETA\r\n  1.  First beta version for Moodle 2.7beta.\r\n\r\n23rd April 2014 Version 2.6.1.6\r\nChange by G J Barnard\r\n  1.  Fixed CONTRIB-5001 - Cannot use the same image in the section summary as well as the grid.\r\n  2.  Note: Julian has departed from Moodle work so I have taken over full responsibility for the format.\r\n\r\n28th March 2014 Version 2.6.1.5\r\nChange by G J Barnard\r\n  1.  Fix to RTL CSS thanks to Nadav Kavalerchik - https://github.com/gjb2048/moodle-courseformat_grid/pull/3 being:\r\n      Right align \"New activity\" notification image in RTL mode.\r\n  2.  Fixed missing strings in 'en' language file for 'One section per page' mode.\r\n  3.  Fixed number format on ordered lists as reported on https://moodle.org/mod/forum/discuss.php?d=252497.\r\n  4.  Changed current selected image container to #ffc540 from #00cc00.  As the latter was too 'in your face'.\r\n  5.  Added a new setting so that you can choose if you want to display the \"New activity\" notification image.  The default is yes.\r\n  6.  Removed colour and font size attribute of icon text from styles.css.\r\n  7.  Removed redundant icons.\r\n  8.  Fixed box-sizing method for Bootstrap V3 in styles.css.\r\n  9.  Slightly shrunk grid icon outside to make better use of available space.\r\n 10.  Changed current section colour in the grid to use a box-shadow instead of a background to avoid confusion with\r\n      the current selected section.  This is a compromised as the latter is there for accessibility reasons and hence\r\n      rationally should stand out more.  This change will not be back-ported as it's not IE8 compatible,\r\n      http://caniuse.com/#search=box-shadow and hence requires a version of Moodle that does not mandate it.\r\n 11.  Fixed CONTRIB-4861 - Glossary pop-ups do not display correctly.\r\n\r\n18th December 2013 Version 2.6.1.4\r\nChange by G J Barnard\r\n  1.  Fixed path and message confusion issue with the M1.9 upgrade script.\r\n  2.  Fixed issue reported by Graham Woodsford whereby teachers could not create Collapsed Topics courses.  The code in the area\r\n      concerned is identical to the Grid format and hence the same issue affects it too.  This is because the validation method\r\n      'edit_form_validation' in 'lib.php' was failing the values passed to it.  These happened to be the hidden label values from\r\n      'course_format_options' which were being used because the 'Course creator' role that teachers have before becoming an\r\n      'editingteacher' role as defined in 'db/access.php' does not allow the teacher to have the\r\n      'format/grid:changeimagecontainersize', 'format/grid:changeimageresizemethod' and 'format/grid:changeimagecontainerstyle'\r\n      capabilities.  This also implies that the values of the other settings are wrong, which in fact they are, causing courses to\r\n      be created (after fixing the colour settings for 'edit_form_validation') with odd values and not the defaults resulting in no\r\n      icon set etc.  And therefore needing to go back to edit the course settings.\r\n\r\n      Ok, this now leads on to a dilemma.  Currently the course creator role does not have the Grid capabilities listed above.  If\r\n      they were added to 'access.php' then the role would have them (existing Grid admins would have to add manually).  Then the\r\n      teacher would see all the options when first creating a course as they do whilst editing.  However, this means that if you\r\n      wish to restrict the teacher from changing things as is the purpose of the capabilities in the first place, then you have\r\n      to remove the capability in both the 'coursecreator' and 'editingteacher' roles.  This is because by default 'coursecreator'\r\n      is above 'editingteacher' and once enrolled on the course after having created it, the teacher has both.  This makes things\r\n      a bit complex and to be honest not that admin friendly.  Therefore to keep things simple in what is in reality an event\r\n      that is rare, I have decided not to add the capabilities to the 'coursecreator' role.  This is additionally based on the\r\n      presumed work-flow of a teacher where they create the course using the defaults, look at it and then decide what to change\r\n      in the settings.  The fix as it stands will facilitate this.\r\n\r\n13th December 2013 Version 2.6.1.3 - Zombie release.\r\nChange by G J Barnard\r\n  1.  Fixed shade box still being shown in editing mode when update capability is denied.  Historical\r\n      issue that has not been spotted before.  Given http://docs.moodle.org/26/en/Capabilities/moodle/course:update\r\n      I have no idea why that specific capability was in the format for checking editing\r\n      capability in conjunction with actual editing capability in the first place.  Fix\r\n      is to remove the use of it completely which should marginally speed things up a bit.\r\n  2.  Fixed sections disappearing when the icon is clicked on in editing mode.\r\n  3.  Fixed icon image eventually disappearing when the section name / summary is changed.  See CONTRIB-4784, a\r\n      big thank you to Nadav Kavalerchik for spotting what was the cause of this and thus providing a reliable\r\n      means of replicating the issue.\r\n\r\n26th November 2013 Version 2.6.1.2\r\nChange by G J Barnard\r\n  1.  Fix automated backups including displayed images when they should not.\r\n  2.  Fix 'reset_grid_setting' in 'lib.php' not resetting a course if it's only on default options.\r\n  3.  Fix restore using the wrong name for the 'image' field.\r\n  4.  Only delete the old image file if it exists after the new one has been successfully\r\n      created in 'setup_displayed_image' in 'lib.php'.\r\n  5.  Fix course id set to default for courses created with versions prior to\r\n      13/7/2012 causing an exception to be raised when a section's image record\r\n      cannot be found and yet the record exists already.  This is due to new optimisation\r\n      code relying on using 'courseid' to find the section records for the course in\r\n      one go rather than getting them individually.\r\n  6.  Ensure a course sets its settings when it is created and then detaches itself from the\r\n      global defaults.\r\n\r\nNOTE: I did find in changing the backup / restore code that the changes did not take hold until I\r\n      restarted the web server (in my case the Apache service) if you encounter a situation where\r\n      the automated backup files are larger than the manual ones, then please restart the web server\r\n      service.\r\n\r\nThe mystery of the disappearing images as reported on: https://moodle.org/mod/forum/discuss.php?d=244390\r\nby Dan Trockman and by Llywelyn Morgan where overnight the displayed images on old courses\r\ndisappear.  This could be caused by the fact that the backup mechanism intentionally removes the displayed\r\nimages so that they are not in the backup file which causes issues on restore.  Then the next time the\r\ncourse is viewed they are automatically regenerated - this is intentional.  But, the automated\r\nfunctionality calling the code within the format set the course id to '1' being the site course\r\nand not to the course id of the course being backed up (point 1 above addresses this).  And hence\r\nthe displayed images for course 1 would be deleted by 'delete_images()', however this would not have\r\nbeen an issue as there should be no records in the 'format_grid_icon' table for course id '1', but\r\nbecause of '5' above, old courses had the 'course id' set to '1' and not the true course id of the\r\ncourse.  And so the method 'delete_images()' deleted them.  This would have been fine as the regeneration\r\ncode should have put the images back, but because the code could not find the record containing the image\r\nthis did not happen (which '5' above fixes).  But what I cannot explain yet is why with Dan Trockman's\r\nset up the 'database error' ('5') did not manifest itself.  But I hope that fixes '1' and '5' will repair\r\ncourses automatically when they are first viewed.  Currently I am unable to work exactly why this\r\nis happening as have been unable to replicate it.  If you encounter the same problem, please let me\r\nknow with as much information as possible, like additional add-ons and when you notice it happening.\r\n\r\nSo, I have decided to release as is as the fixes above are important to distribute to the community.\r\n\r\n20th November 2013 Version 2.6.1.1\r\nChange by G J Barnard\r\n  1.  Fix incorrect detection of non-existent entry in format_grid_icon table.  Thanks to\r\n      Llywelyn Morgan for reporting this.\r\n\r\n18th November 2013 Version 2.6.1\r\nChange by G J Barnard\r\n  1.  Stable release for Moodle 2.6.\r\n  2.  Fixed slight issue with lack of prefixing '#' for colour settings in default settings.\r\n\r\n14th November 2013 Version 2.6.0.1\r\nChange by G J Barnard\r\n  1.  Initial BETA code for Moodle 2.6.\r\n\r\n14th November 2013 Version 2.5.5\r\nChange by G J Barnard\r\n  1.  Fixed issue over prefixed '#' in colour picker.\r\n  2.  Added validation to HEX RGB colour codes.\r\n  3.  Added US English language file.\r\n  4.  Implemented MDL-21097.\r\n  5.  Fixed an issue when deleting a course that was not in the grid format where\r\n      the function 'format_grid_delete_course' in 'lib.php' was being called even\r\n      though the course is not in the format and the wrong format object was being\r\n      retrieved.  This then resulted in a method call on a non-existent method.\r\n\r\n4th November 2013 Version 2.5.5 - CONTRIB-4099 - BETA\r\nImprovement by G J Barnard\r\n  1.  Implemented CONTRIB-4099 to add image icon size and colour changes.\r\n      Gratefully crowd funded by:\r\n        WL Wong\r\n        Guido Gautsch\r\n        Marcel de Leeuwe\r\n        Joseph Thibault\r\n        Gideon Williams\r\n        Jean-Marc Doucet\r\n        Nigel Barnett\r\n  2.  Changes for 'Accessibility' based upon MDL-41252.\r\n  3.  Fully implemented MDL-39542.\r\n  4.  Started implementing WAI-ARIA roles - http://www.w3.org/TR/wai-aria/roles.  If you have information to\r\n      help with this, then please contact us.\r\n\r\n23rd October 2013 Version 2.5.4.4 - Stable.\r\nChange by G J Barnard\r\n  1.  Fix broken call to '_is_empty_text' as reported on CONTRIB-4589.\r\n  2.  Optimised fetching of icon data from database to one call instead of one call per shown section.\r\n  3.  Changed icon border size and radius to provide greater definition to the icon.\r\n  4.  Fixed shade box showing when pressing the 'Esc' key in 'Show one section per page' course layout - CONTRIB-4709.\r\n  5.  Fixed highlight this section text referring to 'topics'.\r\n\r\n2nd October 2013 Version 2.5.4.3 - Stable.\r\nChange by G J Barnard\r\n  1.  Fixed sections not being shown when in 'Show one section per page' mode and editing.  Thanks to\r\n      Zdravko Stoimenov for reporting this.\r\n  2.  Changed 'editimage.php' to ensure that only the icon is removed when changing it.  No specific\r\n      issue just refactoring the code as a preventative measure.\r\n  3.  Fixed section 0 content displaying when it's in the grid, you first load a page and click on another\r\n      section.  Thanks to Llywelyn Morgan for reporting this.\r\n\r\n12th September 2013 Version 2.5.4.2 - Stable.\r\nChange by G J Barnard\r\n  1.  Changed 'JSON' code in 'module.js' to use the YUI library for JSON to support situations where the 'JSON'\r\n      library is not built into the browser.  Thanks to Colin Taylor for providing information of a situation I\r\n      could not have possibly tested.\r\nNote: If you have already installed V2.5.4 or V2.5.4.1 then this is not an essential upgrade.\r\n\r\n12th September 2013 Version 2.5.4.1 - Stable.\r\nChange by G J Barnard\r\n  1.  Commented out 'console.log' code in 'module.js'.\r\n  2.  Removed old 'gridkeys.js' from 'javascript' folder.\r\nNote: If you have already installed V2.5.4 then this is not an essential upgrade.\r\n\r\n10th September 2013 Version 2.5.4 - Stable.\r\nChange by G J Barnard\r\n  1.  Partial implementation of CONTRIB-3240.  Thanks to Andrew Nicols for helping with the YUI module code\r\n      on: https://moodle.org/mod/forum/discuss.php?d=237275.\r\n      This means that it is now possible to navigate using the keyboard with the 'left' / 'right' cursor keys\r\n      being used to perform previous section / next section respectively and the 'esc' key to toggle open / closed\r\n      the shade box.  As a bonus of this change I've added in navigation arrows to the shade box which appear when\r\n      you hover over the middle of the sides - cool eh?\r\n      Initially I also added Shift-TAB (previous section) / TAB (next section) / Enter (open shade box) /\r\n      Shift-Enter (close shade box) keys to but after much deliberation (and logic issues) I have decided that until\r\n      WIA-ARIA is fully understood I'll leave them out.  Once much more information is known I'll put them back in.\r\n      Also thanks to Enrico Canale and Darren Britten of La Trobe University for their support and information.\r\n\r\n      Note:  If you're wondering where the M2.3 and M2.4 versions are, well I intend to release them a few days after\r\n             this M2.5 version so that any bugs that have not been found can be fixed once without having to re-release\r\n             three versions.\r\n  2.  'module.js' has been completely reworked so that it is efficient and documented.\r\n  3.  Added Pirate language.\r\n\r\n30th August 2013 Version 2.5.3.3 - Stable\r\nChange by G J Barnard\r\n  1.  Implemented CONTRIB-4580 - Highlight current section.\r\n  2.  Implemented CONTRIB-4579, thanks to all who helped on https://moodle.org/mod/forum/discuss.php?d=236075.\r\n  3.  At the request of Tim St.Clair I've changed the code such that the sections underneath the icons are hidden\r\n      by CSS when JavaScript is enabled so that there is no 'flash' as previously JS would perform the hiding.\r\n  4.  Added 'Downgrading' instructions above.\r\n  5.  Added 'Upgrading' instructions above.\r\n  6.  Added 'Known Issues' above.\r\n\r\n22nd August 2013 Version 2.5.3.2 - Stable\r\nChange by G J Barnard\r\n  1.  Fixed icon container size relative to icon size.\r\n  2.  Added 'alt' image attribute information being that of the section name.\r\n  3.  Tidied up more styles such that to pre-empt conflicts.\r\n\r\n10th August 2013 Version 2.5.3.1 - Stable\r\nChange by G J Barnard\r\n  1.  Fixed CONTRIB-4216 - Error importing quizzes with grid course format.\r\n  2.  Fixed CONTRIB-4253 - mdl_log queried too often to generate New Activity tag.  This has been fixed by using the 'course_sections'\r\n      table instead to spot when a new activity / resource has been added since last login.\r\n\r\n4th August 2013 Version 2.5.3 - Stable\r\nChange by G J Barnard\r\n  1.  Fixed scroll to top when clicking on an icon.  Thanks to Javier Dorfsman for reporting this.\r\n  2.  Added in code developed by Nadav Kavalerchik to facilitate multi-lingual support for the 'new activity' icon.  Thank\r\n      you Nadav :).\r\n  3.  Adapted the width of the shade box such that it is dynamic against the size of the window.\r\n\r\n5th July 2013 Version 2.5.2 - Stable\r\nChange by G J Barnard\r\n  1.  Code refactoring to reduce and separate the format as a separate entity.\r\n  2.  Corrected as much as possible as detected by 'Code Checker' version 2013060600 release 2.2.7.\r\n  3.  Once the first box is shown then the 'Enter' key will toggle the 'current' box hidden and shown.\r\n  4.  Changed the order of the history so that the latest change is at the top.\r\n\r\n14th May 2013 Version 2.5.1 - Stable\r\nChange by G J Barnard\r\n  1.  First stable version for Moodle 2.5 stable.\r\n\r\n12th May 2013 - Version 2.5.0.2 - Beta\r\nChange by G J Barnard\r\n  1. Removed '.jumpmenu' from styles.css because of MDL-38907.\r\n  2. Added automatic 'Purge all caches' when upgrading.  If this appears not to work by lack of display etc. then perform a\r\n     manual 'Purge all caches' under 'Home -> Site administration -> Development -> Purge all caches'.\r\n  3. Changes for MDL-39542.\r\n\r\n13th April 2013 - Version 2.5.0.1 - Beta version.\r\nChange by G J Barnard\r\n  1. First 'Beta' release for Moodle 2.5 Beta.\r\n\r\n24th February 2013 - Version 2.4.1 - Stable version.\r\nChange by G J Barnard\r\n  1. Changes because of MDL-37901.\r\n  2. Invisible section fix for Tim Wilde - https://moodle.org/mod/forum/discuss.php?d=218505#p959249.\r\n  3. This version considered 'Stable' from feedback of Theo Konings on CONTRIB-3534.\r\n\r\n21st January 2013 - Version 2.4.0.2 - Alpha version, not for production servers.\r\nChange by G J Barnard\r\n  1. Changes to 'renderer.php' because of MDL-36095 hence requiring Moodle version 2012120301.02 release 2.4.1+ (Build: 20130118) and above.\r\n\r\n12th January 2013 - Version 2.5.0.1 - Alpha version, not for production servers.\r\n1. Migrated code to Moodle 2.5 development version.\r\n\r\n9th January 2013 - Version 2.4.0.5 - Beta version, not for production servers.\r\nChange by G J Barnard\r\n  1. Fixed issue in editimage.php where the GD library needs to be used for image conversion for transparent PNG's.\r\n  2. Perform a 'Purge all caches' under 'Home -> Site administration -> Development -> Purge all caches' after this is installed.\r\n\r\n3rd January 2013 - Version 2.4.0.4 - Beta version, not for production servers.\r\nChange by G J Barnard\r\n  1. Fixed issue where the grid did not function in 'One section per page mode' on the course settings.\r\n\r\n21st December 2012 - Version 2.4.0.3 - Beta version, not for production servers.\r\nChange by G J Barnard\r\n  1. Hopefully eliminated BOM issue (http://docs.moodle.org/24/en/UTF-8_and_BOM) that was causing the failure of the images to display.\r\n\r\n18th December 2012 - Version 2.4.0.2 - Alpha version, not for production servers.\r\nChange by G J Barnard\r\n  1. Second alpha release for Moodle 2.4\r\n\r\n18th December 2012 - Version 2.4.0.1 - Alpha version, not for production servers.\r\nChange by G J Barnard\r\n  1. First alpha release for Moodle 2.4\r\n\r\nAuthor\r\n------\r\nG J Barnard - Moodle profile: moodle.org/user/profile.php?id=442195 - Web profile: about.me/gjbarnard","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}